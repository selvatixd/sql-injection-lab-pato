<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Explora√ß√£o de SQL Injection com Caido.io</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 40px;
      color: #333;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      color: #2c3e50;
    }
    code, pre {
      background-color: #eee;
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 0.95em;
      display: block;
      margin: 10px 0;
      white-space: pre-wrap;
    }
    ul {
      padding-left: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
    }
    img {
      max-width: 100%;
      margin-top: 20px;
      border-radius: 6px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üíº Projeto: Explora√ß√£o de SQL Injection com Caido.io</h1>
    <p><strong>Autor:</strong> Matheus</p>
    <p><strong>Ferramenta utilizada:</strong> Caido.io</p>
    <p><strong>Desafio:</strong> Lab de SQL Injection ‚Äì Pato Academy</p>
    <p><strong>Objetivo:</strong> Identificar e explorar vulnerabilidades de SQL Injection em uma aplica√ß√£o web simulada.</p>

    <h2>üß† Estrat√©gia de Ataque</h2>

    <h3>1. Reconhecimento da Aplica√ß√£o</h3>
    <ul>
      <li>Navega√ß√£o inicial para entender a estrutura da aplica√ß√£o.</li>
      <li>Identifica√ß√£o de endpoints din√¢micos como <code>/api/matches/{id}</code>.</li>
      <li>Observa√ß√£o de par√¢metros manipul√°veis (<code>game, team</code>).</li>
    </ul>

    <h3>2. Intercepta√ß√£o e Testes com Caido.io</h3>
    <ul>
      <li>Captura de requisi√ß√µes HTTP para an√°lise.</li>
      <li>Testes com payloads b√°sicos (<code>', '--, AND 1=1--</code>) revelaram mensagens de erro do SQLite.</li><br>
      <li>Confirma√ß√£o da vulnerabilidade de SQL Injection.</li>
    </ul>

    <h3>3. Enumera√ß√£o da Estrutura Interna</h3>
    <ul>
      <li>Uso de <code>UNION SELECT</code> para descobrir o n√∫mero de colunas (9).</li>
      <li>Utiliza√ß√£o da fun√ß√£o <code>group_concat</code> para listar tabelas e colunas de forma agregada:</li>
    </ul>
    <pre>UNION SELECT group_concat(name, ':'), NULL, NULL, NULL, NULL, NULL, NULL, NULL FROM sqlite_master WHERE type='table'</pre>
    <pre>SELECT group_concat(name, ', ') FROM pragma_table_info('users_admin')</pre>
    <ul>
      <li>Essa t√©cnica permitiu mapear rapidamente a estrutura do banco e identificar alvos sens√≠veis como a tabela <code>users_admin</code>.</li>
    </ul>
<img src="images/sql-injection-1.png" alt="Payload executado com sucesso"><br><br>
    <h3>4. Extra√ß√£o de Dados Sens√≠veis</h3>
    <ul>
      <li>Descoberta de colunas como <code>email, password, nickname</code>.</li>
      <li>Execu√ß√£o de payload para extrair a flag:</li>
    </ul>
    <pre>' UNION SELECT password, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL FROM users_admin--</pre>
    <p><strong>Flag obtida:</strong> <code>$$$FLAG$$$oi_admin_vazou_seu_banco_aqui</code></p>
<img src="images/sql-injection-2.png" alt="Credenciais extra√≠das via SQLi"><br><br>
    <h2>üìö Aprendizados</h2>
    <ul>
      <li>A explora√ß√£o manual com Caido.io permitiu entender a l√≥gica da aplica√ß√£o e manipular requisi√ß√µes com precis√£o.</li>
      <li>A vulnerabilidade permitia acesso direto ao banco de dados SQLite, inclusive √† tabela de administradores.</li>
      <li>T√©cnicas como <code>UNION SELECT, PRAGMA table_info</code>, leitura do <code>sqlite_master</code> e uso de <code>group_concat</code> foram essenciais para mapear a estrutura interna e extrair dados com efici√™ncia.</li>
    </ul>

    <h2>üõ†Ô∏è Tecnologias e Ferramentas</h2>
    <table>
      <tr><th>Ferramenta</th><th>Fun√ß√£o</th></tr>
      <tr><td>Caido.io</td><td>Intercepta√ß√£o e manipula√ß√£o de requisi√ß√µes</td></tr>
      <tr><td>SQLite</td><td>Banco de dados utilizado pela aplica√ß√£o</td></tr>
      <tr><td>Pato Academy</td><td>Ambiente de simula√ß√£o para testes de seguran√ßa</td></tr>
    </table>

    <h2>üéØ Resultado Final</h2>
    <p>A explora√ß√£o foi conclu√≠da com sucesso, demonstrando dom√≠nio de t√©cnicas de SQL Injection e capacidade de an√°lise manual. O projeto refor√ßa habilidades em seguran√ßa ofensiva, an√°lise de aplica√ß√µes web e uso de ferramentas profissionais.</p>
  </div>
</body>
</html>
